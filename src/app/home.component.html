<div class="uk-section">
  <div class="uk-container">
    <div class="uk-flex uk-flex-between uk-margin">
      <h2 class="uk-heading-line"><span>Articles</span></h2>
      <button class="uk-button uk-button-primary" uk-toggle="target: #add-article-modal">Ajouter un article</button>
    </div>
    <div class="uk-grid-small uk-child-width-1-3@s" uk-grid>
  <div *ngFor="let a of articles" (click)="open(a.id)">
        <div class="uk-card uk-card-default uk-card-hover uk-card-body">
          <div class="uk-card-media-top">
            <img [src]="a.imgPath" alt="" style="width:100%; height:140px; object-fit:cover" />
          </div>
          <h3 class="uk-card-title">{{ a.title }}</h3>
          <p>{{ a.desc | slice:0:120 }}...</p>
          <p class="uk-text-meta">Par {{ a.author }}</p>
        </div>
      </div>
    </div>

    
    <div id="add-article-modal" uk-modal>
      <div class="uk-modal-dialog uk-modal-body">
        <h2 class="uk-modal-title">Ajouter un article</h2>
        <form (ngSubmit)="add()" class="uk-form-stacked">
          <div class="uk-margin">
            <label class="uk-form-label">Titre</label>
            <input class="uk-input" [(ngModel)]="model.title" name="title" required />
          </div>
          <div class="uk-margin">
            <label class="uk-form-label">Description</label>
            <textarea class="uk-textarea" [(ngModel)]="model.desc" name="desc" required></textarea>
          </div>
          <div class="uk-margin">
            <label class="uk-form-label">Auteur</label>
            <input class="uk-input" [(ngModel)]="model.author" name="author" />
          </div>
          <div class="uk-margin">
            <label class="uk-form-label">Image URL</label>
            <input class="uk-input" [(ngModel)]="model.imgPath" name="imgPath" />
          </div>
          <p class="uk-text-right">
            <button class="uk-button uk-button-default uk-modal-close" type="button">Annuler</button>
            <button class="uk-button uk-button-primary" type="submit">Ajouter</button>
          </p>
        </form>
      </div>
    </div>
  </div>
</div>
